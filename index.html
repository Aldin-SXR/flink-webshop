<!DOCTYPE html>
<html lang="en">

<head>
	<title>flink | Smart Home</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="images/icons/favicon.png" />
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/themify/themify-icons.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/elegant-font/html-css/style.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/noui/nouislider.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/slick/slick.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/lightbox2/css/lightbox.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" href="assets/css/spapp.css" />
	<!--===============================================================================================-->
</head>

<body class="animsition">

	<!-- Header -->
	<header class="header3">
		<!-- Header desktop -->
		<div class="container-menu-header-v3">
			<div class="wrap_header3 p-t-74">
				<!-- Logo -->
				<a href="#landing" class="logo3">
					<img src="images/icons/logo.png" alt="IMG-LOGO">
				</a>

				<!-- Header icons -->
				<div class="header-icons3 p-t-38 p-b-60 p-l-8">
					<a href="#login-overlay" data-toggle="modal" data-backdrop="true" class="header-wrapicon1 dis-block">
						<img src="images/icons/icon-header-01.png" class="header-icon1" alt="ICON">
					</a>
					<span class="linedivide1"></span>
					<div class="header-wrapicon2">
						<img src="images/icons/icon-header-02.png" class="header-icon1 js-show-header-dropdown" alt="ICON">
						<span id="cart-notification" class="header-icons-noti">0</span>

						<!-- Header cart noti -->
						<div class="header-cart header-dropdown">
							<!-- Cart items -->
							<ul class="header-cart-wrapitem">
							</ul>

							<!-- Cart total -->
							<div class="header-cart-total">
								Totals: 0 BAM
							</div>

							<div class="header-cart-buttons">
								<div class="header-cart-wrapbtn">
									<!-- Button -->
									<a href="#cart" class="flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">
										View Cart
									</a>
								</div>

								<div class="header-cart-wrapbtn">
									<!-- Button -->
									<a href="#" class="flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">
										Check Out
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Menu -->
				<div class="wrap_menu">
					<nav class="menu">
						<ul class="main_menu">
							<li>
								<a id="landing-link" href="#landing">Home</a>
							</li>

							<li>
								<a id="shop-link" href="#shop">Shop</a>
							</li>

							<li id="product-li" style="display: none;">
								<a id="product-link" href="#product">Product</a>
							</li>

							<li>
								<a id="cart-link" href="#cart">Cart</a>
							</li>

							<li>
								<a id="about-link" href="#about">About</a>
							</li>

							<li>
								<a id="contact-link" href="#contact">Contact</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
			<div class="bottombar flex-col-c p-b-65">
				<div class="bottombar-social t-center p-b-8">
					<a target="_blank" href="https://www.facebook.com/Flink-1528897597158926" class="topbar-social-item fa fa-facebook"></a>
					<a target="_blank" href="https://www.instagram.com/flink_home" class="topbar-social-item fa fa-instagram"></a>
					<a target="_blank" href="https://www.linkedin.com/company/bsmart" class="topbar-social-item fa fa-linkedin"></a>
				</div>
			</div>

			<!--	<div class="bottombar-child2 p-r-20">
					<div class="topbar-language rs1-select2">
						<select class="selection-1" name="time">
							<option>USD</option>
							<option>EUR</option>
						</select>
					</div>
				</div>
			</div> -->
		</div>

		<!-- Header Mobile -->
		<div class="wrap_header_mobile">
			<!-- Logo moblie -->
			<a href="#landing" class="logo-mobile">
				<img src="images/icons/logo-mobile.png" alt="IMG-LOGO">
			</a>

			<!-- Button show menu -->
			<div class="btn-show-menu">
				<!-- Header Icon mobile -->
				<div class="header-icons-mobile">
					<a href="#login-overlay" data-toggle="modal" data-backdrop="true" class="header-wrapicon1 dis-block">
						<img src="images/icons/icon-header-01.png" class="header-icon1" alt="ICON">
					</a>

					<span class="linedivide2"></span>

					<div class="header-wrapicon2">
						<img src="images/icons/icon-header-02.png" class="header-icon1 js-show-header-dropdown" alt="ICON">
						<span id="cart-notification" class="header-icons-noti">0</span>

						<!-- Header cart noti -->
						<div class="header-cart header-dropdown">
							<!-- Cart items -->
							<ul class="header-cart-wrapitem2">
							</ul>

							<!-- Cart total -->
							<div class="header-cart-total">
								Totals: 0 BAM
							</div>

							<div class="header-cart-buttons">
								<div class="header-cart-wrapbtn">
									<!-- Button -->
									<a href="#cart" class="flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">
										View Cart
									</a>
								</div>

								<div class="header-cart-wrapbtn">
									<!-- Button -->
									<a href="#" class="flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">
										Check Out
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<button type="button" class="btn-show-menu-mobile hamburger hamburger--squeeze">
					<span class="hamburger-box">
						<span class="hamburger-inner"></span>
					</span>
				</button>
			</div>
		</div>

		<!-- Menu Mobile -->
		<div class="wrap-side-menu">
			<nav class="side-menu">
				<ul class="main-menu">
					<li class="item-topbar-mobile p-l-20 p-t-8 p-b-8">
						<span class="topbar-child1">
							Free shipping for standard order over $100
						</span>
					</li>

					<li class="item-topbar-mobile p-l-20 p-t-8 p-b-8">
						<div class="topbar-child2-mobile">
							<span class="topbar-email">
								info@bsmart.com
							</span>
						</div>
					</li>

					<li class="item-topbar-mobile p-l-10">
						<div class="topbar-social-mobile">
							<a target="_blank" href="https://www.facebook.com/Flink-1528897597158926" class="topbar-social-item fa fa-facebook"></a>
							<a target="_blank" href="https://www.instagram.com/flink_home" class="topbar-social-item fa fa-instagram"></a>
							<a target="_blank" href="https://www.linkedin.com/company/bsmart" class="topbar-social-item fa fa-linkedin"></a>
						</div>
					</li>

					<li class="item-menu-mobile">
						<a href="#landing">Home</a>
					</li>

					<li class="item-menu-mobile">
						<a href="#shop">Shop</a>
					</li>

					<li class="item-menu-mobile">
						<a href="#product">Sale</a>
					</li>

					<li class="item-menu-mobile">
						<a href="#cart">Cart</a>
					</li>

					<li class="item-menu-mobile">
						<a href="#about">About</a>
					</li>

					<li class="item-menu-mobile">
						<a href="#contact">Contact</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>

	<div class="container1-page">
		<main id="spapp" role="main">
			<section id="landing" data-load="landing.html"></section>
			<section id="contact" data-load="contact.html"></section>
			<section id="product" data-load="product.html"></section>
			<section id="cart" data-load="cart.html"></section>
			<section id="shop" data-load="shop.html"></section>
			<section id="about" data-load="about.html"></section>
		</main>

		<!-- Footer -->
		<footer class="bg6 p-t-45 p-b-43 p-l-65 p-r-65 p-lr-0-xl1">
			<div class="flex-w p-b-90">
				<div class="w-size6 p-t-30 p-l-15 p-r-15 respon6">
					<h4 class="s-text12 p-b-30">
						GET IN TOUCH
					</h4>

					<div>
						<p class="s-text7 w-size26">
							Got questions for us? You can find us at
							<em>Francuske revolucije bb, Ilidža 71210, Sarajevo</em>, or contact us via either of these numbers:
							<strong>+387 62 35 42 58 / +387 65 28 54 39</strong>
						</p>

						<div class="flex-m p-t-30">
							<a target="_blank" href="https://www.facebook.com/Flink-1528897597158926" class="topbar-social-item fa fa-facebook"></a>
							<a target="_blank" href="https://www.instagram.com/flink_home" class="topbar-social-item fa fa-instagram"></a>
							<a target="_blank" href="https://www.linkedin.com/company/bsmart" class="topbar-social-item fa fa-linkedin"></a>
						</div>
					</div>
				</div>

				<div class="w-size7 p-t-30 p-l-15 p-r-15 respon7">
					<h4 class="s-text12 p-b-30">
						Links
					</h4>

					<ul>
						<li class="p-b-9">
							<a href="#shop" class="s-text7">
								Shop
							</a>
						</li>

						<li class="p-b-9">
							<a href="#about" class="s-text7">
								About Us
							</a>
						</li>

						<li class="p-b-9">
							<a href="#contact" class="s-text7">
								Contact Us
							</a>
						</li>
					</ul>
				</div>

				<!--		<div class="w-size7 p-t-30 p-l-15 p-r-15 respon7">
					<h4 class="s-text12 p-b-30">
						Help
					</h4>

					<ul>
						<li class="p-b-9">
							<a href="#" class="s-text7">
								Track Order
							</a>
						</li>

						<li class="p-b-9">
							<a href="#" class="s-text7">
								Returns
							</a>
						</li>

						<li class="p-b-9">
							<a href="#" class="s-text7">
								Shipping
							</a>
						</li>

						<li class="p-b-9">
							<a href="#" class="s-text7">
								FAQs
							</a>
						</li>
					</ul>
				</div> -->

				<div class="w-size8 p-t-30 p-l-15 p-r-15 respon6 m-l-auto">
					<h4 class="s-text12 p-b-30">
						Newsletter
					</h4>

					<form>
						<div class="effect1 w-size9">
							<input class="s-text7 bg6 w-full p-b-5" type="text" name="email" placeholder="email@example.com">
							<span class="effect1-line"></span>
						</div>

						<div class="w-size2 p-t-20">
							<!-- Button -->
							<button class="flex-c-m size2 bg4 bo-rad-23 hov1 m-text3 trans-0-4">
								Subscribe
							</button>
						</div>

					</form>
				</div>
			</div>

			<div class="t-center p-l-15 p-r-15">
				<a href="#">
					<img class="h-size2" src="images/icons/paypal.png" alt="IMG-PAYPAL">
				</a>

				<a href="#">
					<img class="h-size2" src="images/icons/visa.png" alt="IMG-VISA">
				</a>

				<a href="#">
					<img class="h-size2" src="images/icons/mastercard.png" alt="IMG-MASTERCARD">
				</a>

				<a href="#">
					<img class="h-size2" src="images/icons/express.png" alt="IMG-EXPRESS">
				</a>

				<a href="#">
					<img class="h-size2" src="images/icons/discover.png" alt="IMG-DISCOVER">
				</a>

				<div class="t-center s-text8 p-t-20">
					flink &#174 2018 | This template is made with
					<i class="fa fa-heart-o" aria-hidden="true"></i> by
					<a href="https://colorlib.com" target="_blank">Colorlib</a>
				</div>
			</div>
		</footer>
	</div>


	<!-- Back to top -->
	<div class="btn-back-to-top bg0-hov" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="fa fa-angle-double-up" aria-hidden="true"></i>
		</span>
	</div>

	<!-- Container Selection1 -->
	<div id="dropDownSelect1"></div>



	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/jquery/jquery-3.2.1.min.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/animsition/js/animsition.min.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/bootstrap/js/popper.js"></script>
	<script type="text/javascript" src="vendor/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/select2/select2.min.js"></script>
	<script type="text/javascript">
		$(".selection-1").select2({
			minimumResultsForSearch: 20,
			dropdownParent: $('#dropDownSelect1')
		});
	</script>
	<script type="text/javascript" src="vendor/noui/nouislider.min.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/lightbox2/js/lightbox.min.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/sweetalert/sweetalert.min.js"></script>
	<!--===============================================================================================-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKFWBqlKAGCeS1rMVoaNlwyayu0e0YRes"></script>
	<!--===============================================================================================-->
	<script src="assets/js/jquery.spapp.min.js"></script>
	<!--===============================================================================================-->
	<script src="js/utility.js"></script>
	<!--===============================================================================================-->
	<script type="text/javascript" src="vendor/slick/slick.min.js"></script>
	<script type="text/javascript" src="js/slick-custom.js"></script>
	<!--===============================================================================================-->
	<script>
		$(document).ready(function () {
			$("#login-overlay").modal("hide");
		});
	</script>
	<script type="text/javascript">
		var app = $.spapp({
			defaultView: "#landing",
			templateDir: "./views/"
		});

		$(["landing", "contact", "product", "cart", "shop", "about"]).each(function (index, name) {
			app.route({
				view: name,
				load: name + ".html",
				onCreate: function (e) {
					renewPopUpCart();
				},
				onReady: function (e) {
					$(".btn-show-menu-mobile").removeClass("is-active");
					$(".wrap-side-menu").slideUp();
					$("#" + name + "-link").closest("ul").find("li").removeClass("sale-noti");
					$("#" + name + "-link").closest("li").addClass("sale-noti");

					if (index == 0) {
						/* turn on carousel when on landing page */
						setTimeout(function () {
							$(".slick1")[0].slick.setPosition();
							$(".slick1").slick("slickPlay");
							//		$(".slick1").slick("refresh");
						}, 100);
					} else {
						$(".slick1").slick("slickPause");
					}
					/* reload 'Product' page every time with new product infromation */
					if (index != 2) {
						$("#product").removeClass("spapp-created");
						$("#product-li").css("display", "none");
					} else {
						$("#product-li").css("display", "block");
					}
					/* renew cart information on every page show */
					if (index == 3) {
						renewCart();
					}
					/* Load categories for shopping page */
					if (index == 4) {
						loadCategories();
					}
					/* Remove category information if not on product page */
					if (index != 2 && index != 4) {
						Utility.removeFromSession("p_cat");

						//			$("#value-lower").html("0");
						//			$("#value-upper").html("200");
					}
				}
			});
		});
		app.run();
	</script>
	<!--===============================================================================================-->
	<script>
		function renewPopUpCart() {
			var cartProducts = Utility.getMultipleFromSession("product");
			if (cartProducts.length != 0) {
				var html = "";
				var price = 0;
				var notifications = 0;
				for (var i = 0; i < cartProducts.length; i++) {
					var product = JSON.parse(cartProducts[i]);
					html += '<li id="product_' + product.id +
						'" class="header-cart-item"><div class="header-cart-item-img"><img src="' +
						product.picture +
						'" alt="IMG"></div><div class="header-cart-item-txt"><a href="#product" class="header-cart-item-name">' + product
						.name +
						'</a><span class="header-cart-item-info">' + product.quantity + ' x ' + product.price +
						'</span></div></li>'
					price += parseFloat((product.price).split(" ")[0]) * parseInt(product.quantity);
					notifications += product.quantity;
				}
				$(".header-cart-wrapitem").html(html);
				$(".header-cart-total").html("Totals: " + price.toFixed(2) + " BAM");
				$("#cart-notification").html(notifications);
			} else {
				$(".header-cart-wrapitem").html("<p class='lead'>Your cart is currently empty.</p>");
				$(".header-cart-total").html("Totals: 0 BAM");
				$("#cart-notification").html("0");
			}
		}
	</script>
	<!--===============================================================================================-->
	<script>
		function renewCart() {
			var cartProducts = Utility.getMultipleFromSession("product");
			if (cartProducts.length != 0) {
				var html =
					'<tr class="table-head"><th class="column-1"></th><th class="column-2">Product</th><th class="column-3">Price</th><th class="column-4 p-l-70">Quantity</th><th class="column-5">Total</th></tr>';
				var price = 0;
				var notifications = 0;
				for (var i = 0; i < cartProducts.length; i++) {
					var product = JSON.parse(cartProducts[i]);
					html +=
						' <tr id="' + product.id +
						'" class="table-row"> <td class="column-1"> <div class="cart-img-product b-rad-4 o-f-hidden"> <img src="' +
						product.picture + '" alt="IMG-PRODUCT"> </div></td><td class="column-2">' + product.name +
						'</td><td class="column-3">' + product.price +
						'</td><td class="column-4"> <div class="flex-w bo5 of-hidden w-size17"> <button class="btn-num-product-down color1 flex-c-m size7 bg8 eff2"> <i class="fs-12 fa fa-minus" aria-hidden="true"></i> </button> <input id="p-quantity" class="size8 m-text18 t-center num-product" type="number" name="num-product1" value="' +
						product.quantity +
						'"> <button class="btn-num-product-up color1 flex-c-m size7 bg8 eff2"> <i class="fs-12 fa fa-plus" aria-hidden="true"></i> </button> </div></td><td class="column-5">' +
						parseFloat(parseFloat(product.price.split(" ")[0]) * product.quantity).toFixed(2) + ' BAM</td></tr>';
					//		price += parseFloat((product.price).split(" ")[0]) * parseInt(product.quantity);
					//		notifications += product.quantity;
					price += parseFloat(parseFloat(product.price.split(" ")[0]) * product.quantity);
				}
				$(".table-shopping-cart").html(html);
				var coupon = (Utility.getFromSession("appl_c")) ? parseFloat(Utility.getFromSession("appl_c")) : 0;
				$("#cart-subtotals").html((price - (price * coupon)).toFixed(2) + " BAM");
				//			$(".header-cart-total").html("Totals: " + price + " BAM");
				//			$("#cart-notification").html(notifications); 
			} else {
				$(".table-shopping-cart").html(
					'<tr class="table-row"><td class="m-l-r-auto"><p class="lead m-l-10">There are currently no items in your cart.</p></td><td><div class="size12 trans-0-4 m-t-10 m-b-10 m-r-10"> <button class="flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4"> Go to shop </button> </div></td></tr>'
				);
			}
		}
	</script>
	<!--===============================================================================================-->
	<script>
		/* Get new product info on each call */
		function getProductInfo() {
			var product = {};
			$.ajax({
				url: "rest/v1/db/products/" + Utility.getFromSession("p_id"),
				method: "GET",
				success: function (result) {
					/* get necessary data */
					product.id = result.id;
					product.name = result.product_name;
					product.price = result.product_price + " BAM";
					product.picture = result.product_picture;
					/* load product info into product page */
					$(".slick3").slick("slickRemove", 0);
					$(".product-detail-name").html(result.product_name);
					$("#product-price").html(result.product_price + " BAM");
					$("#product-tag").html(result.product_tag);
					$("#product-category").html("<strong>Category: <em>" + result.product_category +
						"</em></strong>");
					$("#product-description").html(result.product_description);
					$("#product-specification").html("<pre class='s-text8'>" + result.product_specification +
						"</pre>");
					var html = '<div class="item-slick3" data-thumb="' + result.product_picture +
						'"><div class="wrap-pic-w"><img src="' + result.product_picture +
						'" alt="IMG-PRODUCT"></div></div>';
					$(".slick3").slick("slickAdd", html);
					/* load breadcrumb */
					$("#bread-category").html(result.product_category);
					$("#bread-product").html(result.product_name);
				}
			});
			/* chosen quantity of items */
			$("#add-product-to-cart").off("click").on("click", function () {
				var quantity = parseInt($("#add-product-to-cart").parent().prev().find(".num-product").val());
				/* check if item already exists in cart and add quantitiy */
				if (Utility.getFromSession("product_" + product.id) !== null)
					quantity = quantity + JSON.parse(Utility.getFromSession("product_" + product.id)).quantity;
				product.quantity = quantity;
				/* store new/updated cart product in session storage */
				Utility.addToSession("product_" + product.id, JSON.stringify(product));
				renewPopUpCart();
				swal(parseInt($("#add-product-to-cart").parent().prev().find(".num-product").val()) +
					" items", "have been successfully added to your cart!", "success");
				$("#add-product-to-cart").parent().prev().find(".num-product").val("1");
			});
		}
	</script>
	<!--===============================================================================================-->
	<script>
		/* Dynamically bind click listeners */
		$(".header-cart-wrapitem").on("click", ".header-cart-item-img", function () {
			/* update popup cart data */
			var headerCart = $(this).parent().find(".header-cart-item-info");
			if (headerCart.html().split(" ")[0] > 1) {
				headerCart.html(parseInt(headerCart.html().split(" ")[0] - 1) +
					" " + headerCart.html().split(" ")[1] + " " + headerCart.html().split(" ")[2] + " BAM");
			} else {
				$(this).parent().remove();
				/* check if all items have been removed from the cart */
				if ($(".header-cart-wrapitem").find("li").html() === undefined) {
					$(".header-cart-wrapitem").html("<p class='lead'>Your cart is currently empty.</p>");
				}
			}
			/* update price data */
			$(".header-cart-total").html("Totals: " + (parseFloat($(".header-cart-total").html().split(" ")[1] - headerCart.html()
				.split(" ")[2])).toFixed(2) + " BAM");
			var product = JSON.parse(Utility.getFromSession($(this).parent().attr("id")));
			/* update/remove from session storage */
			if (product.quantity == 1) {
				Utility.removeFromSession($(this).parent().attr("id"));
			} else {
				product.quantity = product.quantity - 1;
				Utility.addToSession($(this).parent().attr("id"), JSON.stringify(product));
			}
			/* update cart notification */
			$("#cart-notification").html(parseInt($("#cart-notification").html()) - 1);
		});
		$(".header-cart-wrapitem").on("click", ".header-cart-item-name", function () {
			Utility.addToSession("p_id", $(this).parent().parent().attr("id").split("_")[1]);
			getProductInfo();
		});
	</script>
	<!--===============================================================================================-->
	<script>
		/* add item to cart (used on landing page and shop carts) */
		function addSingleItemToCart(element) {
			$(element).each(function () {
				var productId = $(this).parent().parent().parent().find(".block2-name").attr("id");
				var productName = $(this).parent().parent().parent().find(".block2-name").html();
				var productPrice = $(this).parent().parent().parent().find(".block2-price").html();
				var productPicture = $(this).parent().parent().parent().find("img").attr("src");
				$(this).on("click", function () {
					var productQuantity = 1;
					swal(productName, "has been added to cart!", "success");
					/* Add new product to cart/increase quantity of same products */
					if (Utility.getFromSession("product_" + productId) !== null)
						productQuantity = JSON.parse(Utility.getFromSession("product_" + productId)).quantity + 1;
					/* product definition */
					var product = {
						id: productId,
						name: productName,
						price: productPrice,
						picture: productPicture,
						quantity: productQuantity
					}
					/* update small popup cart */
					updatePopUpCart(product);
					/* store new/updated cart product in session storage */
					Utility.addToSession("product_" + productId, JSON.stringify(product));
				});
			});
		}
	</script>
	<!--===============================================================================================-->
	<script>
		/* Update single cart item in the popup cart*/
		function updatePopUpCart(product) {
			if ($(".header-cart-wrapitem").find("#product_" + product.id).html() !== undefined) {
				$(".header-cart-wrapitem").find("#product_" + product.id).find(".header-cart-item-info").html(product.quantity +
					' x ' + product.price);
			} else {
				var html = '<li id="product_' + product.id +
					'" class="header-cart-item"><div class="header-cart-item-img"><img src="' +
					product.picture +
					'" alt="IMG"></div><div class="header-cart-item-txt"><a href="#product" class="header-cart-item-name">' + product.name +
					'</a><span class="header-cart-item-info">' + product.quantity + ' x ' + product.price +
					'</span></div></li>';
				if (Utility.getMultipleFromSession("product").length != 0) {
					$(".header-cart-wrapitem").append(html);
				} else {
					$(".header-cart-wrapitem").html(html);
				}
			}
			/* Update price */
			var price = parseFloat($(".header-cart-total").html().split(" ")[1]) + parseFloat((product.price).split(" ")[0]);
			$(".header-cart-total").html("Totals: " + price.toFixed(2) + " BAM");
			/* Update cart counter */
			$("#cart-notification").html(parseInt($("#cart-notification").html()) + 1);
			//		$(".header-cart-wrapitem").append('<li class="header-cart-item"><div class="header-cart-item-img"><img src="images/item-cart-01.jpg" alt="IMG"></div><div class="header-cart-item-txt"><a href="#" class="header-cart-item-name">White Shirt With Pleat Detail Back</a><span class="header-cart-item-info">1 x $19.00</span></div></li>');
		}
	</script>
	<!--===============================================================================================-->
	<script>
		/* find items in shop based on parameters */
		function listShopItems(category, range) {
			/* fallback values */
			if (range === undefined || range == null) {
				if (Utility.getFromSession("p_range")) {
					range = Utility.getFromSession("p_range");
				} else {
					range = "all";
				}
			}

			if (category === undefined || category == "All") {
				/* check if arrived here from category selection on landing */
				if (Utility.getFromSession("p_cat")) {
					if (Utility.getFromSession("p_cat") == "All") {
						category = "all";
					} else {
						category = Utility.getFromSession("p_cat");
					}
					/* highlight appropriate category */
					$(".c-name").each(function (index) {
						if (category == "all") var newC = "All";
						else var newC = category;
						if ($(this).find("span").html() == newC) {
							$(this).find("span").addClass("highlight");
						} else {
							$(this).find("span").removeClass("highlight");
						}
					});
				} else {
					category = "all";
				}
			}
			/* Send an AJAX request for filtered products */
			$.ajax({
				url: "rest/v1/db/find/" + category + "/" + range,
				method: "GET",
				success: function (result) {
					if (result.length != 0) {
						var html = "";
						for (var i = 0; i < result.length; i++) {
							/* get item status */
							var status = "";
							if (result[i].status == "new")
								status = "block2-labelnew"
							else if (result[i].status == "hot")
								status = "block2-labelsale"
							/* build HTML */
							html +=
								'<div class="col-sm-12 col-md-6 col-lg-4 p-b-50"><div class="block2"><div class="block2-img wrap-pic-w of-hidden pos-relative ' +
								status + '"><img src="' +
								result[i].product_picture +
								'" alt="IMG-PRODUCT"><div class="block2-overlay trans-0-4"><a href="#product" class="block2-btn-addwishlist hov-pointer trans-0-4"><i class="icon-wishlist icon_heart_alt" aria-hidden="true"></i><i class="icon-wishlist icon_heart dis-none" aria-hidden="true"></i></a><div class="shop-page-btn block2-btn-addcart w-size1 trans-0-4"><button class="flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4">Add to Cart</button></div></div></div><div class="block2-txt p-t-20"><a id="' +
								result[i].id + '" href="#product" class="block2-name dis-block s-text3 p-b-5">' +
								result[i].product_name + '</a><span class="block2-price m-text6 p-r-5">' + result[i]
								.product_price +
								' BAM</span></div></div></div>';
						}
						(result.length != 1) ? $("#result-count").html("Showing " + result.length + " results."):
							$("#result-count").html("Showing " + result.length + " result.");
						$("#filtered-product-list").html(html);
						addSingleItemToCart(".shop-page-btn");
					} else {
						$("#filtered-product-list").html(
							"<p class='lead'>Unfortunately, there are no items that fit your parameters.</p>");
						$("#result-count").html("No results.");
					}
				}
			});
		}
	</script>
	<!--===============================================================================================-->
	<script>
		/* Load product categories for shop */
		function loadCategories() {
			$.ajax({
				url: "rest/v1/db/categories",
				method: "GET",
				success: function (result) {
					var html =
						'<li class="c-name p-t-4"><span class="pseudo-link highlight s-text13">All</span></li>';
					for (var i = 0; i < result.length; i++) {
						html += '<li class="c-name p-t-4"><span class="pseudo-link s-text13">' +
							result[i].category_name + '</span></li>';
					}
					$(".category-listing").html(html);
					listShopItems();
				}
			});
		};
	</script>
	<!--===============================================================================================-->
	<script src="js/page-load.js"></script>
	<script src="js/main.js"></script>
</body>

<!-- Log in/sign up modal -->
<div id="login-overlay" class="modal fade">
	<div class="modal-dialog modal-lg modal-dialog-centered ">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="myModalLabel">Log in to Flink Webshop</h4>
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">×</span>
					<span class="sr-only">Close</span>
				</button>
			</div>
			<!-- Dynamically loaded modal body -->
			<div class="modal-body">

			</div>
		</div>
	</div>
</div>

</html>

<script>
	var loginScreen =
		'<div class="row"><div class="col-sm-6"><div class="card bg-light p-3"><div class="card-body"><div class="card-title"><p class="lead highlight">Sign in</p></div><form id="loginForm" method="POST" action="/login/" novalidate="novalidate"><div class="form-group"><label for="username" class="control-label">Username:</label><input type="text" class="form-control" id="username" name="username" value="" required="" title="Please enter you username" placeholder="example@gmail.com"><span class="help-block"></span></div><div class="form-group"><label for="password" class="control-label">Password:</label><input type="password" class="form-control" id="password" name="password" value="" required="" title="Please enter your password"><span class="help-block"></span></div><a href="cart.html" class="flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">Log in</a><a href="/forgot/" class="btn btn-default btn-block">Help to login</a></form></div></div></div><div class="col-sm-6"><p class="lead">Register now for<span class="highlight"> FREE</span></p><ul class="list-unstyled" style="line-height: 2"><li><span class="fa fa-check highlight"></span> Save your cart</li><li><span class="fa fa-check highlight"></span> Add products to wishlist</li><li><span class="fa fa-check highlight"></span> Get a 5% discount on all purchases</li><li></a></li></ul><p><span id="sign-up-redirect" class="pseudo-span flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4 m-t-10">Sign up</span></p></div></div>';
	var signupScreen =
		'<div class="row"><div class="col-sm-12"><div class="card bg-light p-3"><div class="card-body"><div class="card-title"><p class="lead highlight">Sign up</p></div><form id="signupForm"><div class="row"><div class="col-sm-6"><div class="form-group"><label for="username" class="control-label"><em>Username: *</em></label><input type="text" class="form-border form-control" id="username" name="username" value="" required="" title="Please enter you username"><span class="help-block"></span></div></div><div class="col-sm-6"><div class="form-group"><label for="email" class="control-label"><em>Email: *</em></label><input type="email" class="form-border form-control" id="email" name="email" value="" required="" title="Please enter your email"><span class="help-block"></span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label for="password" class="control-label"><em>Password: *</em></label><input type="password" class="form-border form-control" id="password" name="password" value="" required="" title="Please enter your password"><span class="help-block"></span></div></div><div class="col-sm-6"><div class="form-group"><label for="rePassword" class="control-label"><em>Confirm password: *</em></label><input type="password" class="form-border form-control" id="rePassword" name="rePassword" value="" required="" title="Please enter your password"><span class="help-block"></span></div></div></div><div class="row"><div class="col-sm-4"><div class="form-group"><label for="country" class="control-label"><em>Country:</em></label><select class="form-control" name="country" id="country-list"><option value="BA">Bosnia & Herzegovina</option><option value="HR">Croatia</option><option value="SR">Serbia</option><option value="MN">Montenegro</option><option value="SL">Slovenia</option><option value="MK">Macedonia</option></select></div></div><div class="col-sm-5"><div class="form-group"><label for="address" class="control-label"><em>Address:</em></label><input type="text" class="form-border form-control" id="address" name="address" value="" title="Please enter your address"><span class="help-block"></span></div></div><div class="col-sm-3"><div class="form-group"><label for="zipcode" class="control-label"><em>Zipcode:</em></label><input type="number" class="form-border form-control" id="zipcode" name="zipcode" value="" title="Please enter your zipcode"><span class="help-block"></span></div></div></div><div class="row"><div class="col-sm-10"><button type="submit" id="sign-up-button" class="pseudo-span flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4">Sign up</button></div><div class="col-sm-2"><span id="go-back-button" class="pseudo-span flex-c-m size1 bg1 bo-rad-20 hov1 s-text1 trans-0-4"><i class="fa fa-arrow-left" aria-hidden="true"></i></span></div></div><span class="btn btn-default btn-block"><small>Fields marked with an asterisk(*) are mandatory.</small></span></form></div></div></div></div>';
	/* When modal is closed, revert to basic login screen */
	$("#login-overlay").on("hidden.bs.modal", function() {
		$(".modal-body").html(loginScreen);
	});

	/* Initial loading of modal */
	$(".modal-body").ready(function () {
		$(".modal-body").html(loginScreen);
	})

	/* go back to login from sign up form */
	$(".modal-body").on("click", "#go-back-button", function () {
		$(".modal-body").html(loginScreen);
	});

	$(".modal-body").on("click", "#sign-up-redirect", function () {
		$(".modal-body").html(signupScreen);
		$("#signupForm").validate({
				rules: {
					username: {
						required: true,
						rangelength: [8, 24]
					},
					email: {
						required: true,
						email: true
					},
					password: {
						required: true,
						rangelength: [8, 24]
					},
					rePassword: {
						required: true,
						equalTo: "#password"
					}
				},
				messages: {
					username: {
						required: "You must choose a username.",
						rangelength: "Your username should be between {0} and {1} characters."
					},
					email: {
						required: "You must enter an email.",
						email: "You must enter a valid email address"
					},
					password: {
						required: "You must choose a password.",
						rangelength: "Your password must be between {0} and {1} characters."
					},
					rePassword: {
						required: "You must confirm your password.",
						equalTo: "The passwords do not match."
					}
				},
				submitHandler: function(form) {
					form.submit();
				}
			});
	});
</script>